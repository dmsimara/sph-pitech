<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PUPSeek</title>
  <link rel="icon" type="image/x-icon" href="/web/assets/img/PUPSEEK1.png" />
  <link rel="stylesheet" href="/web/assets/css/base.css" />
  <link rel="stylesheet" href="/web/assets/css/lost-found.css" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />
</head>
<body>
  <div class="layout">
    <div id="sidebar-container"></div>

    <main class="main-content">
      <div class="directory-header">
        <h1>Lost & Found</h1>
        <div class="search-bar">
            <i class="fas fa-search"></i>
            <input type="text" placeholder="Search Lost and Found" />
        </div>
      </div>

      <div class="filter-bar">
        <div class="filter-tags">
            <p class="filter-tag active">All</p>
            <p class="filter-tag">Completed</p>
        </div>
        <div class="report-button" id="open-report-modal">
            <i class="fas fa-plus"></i>
            <span>Report an Item</span>
        </div>
      </div>

        <!-- Report Modal -->
        <div class="modal-overlay" id="report-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Report Lost or Found Item</h2>
                    <span class="close-button" id="close-report-modal">&times;</span>
                </div>
                
                <form id="report-form">
                    <div class="form-row">
                        <label class="form-label">Item Type:</label>
                        <div class="radio-group">
                            <label><input type="radio" name="report-type" value="lost"/> Lost</label>
                            <label><input type="radio" name="report-type" value="found" /> Found</label>
                        </div>
                    </div>

                    <div class="form-row">
                        <label class="form-label">Item Name:</label>
                        <input type="text" id="item-name" class="form-input"/>
                    </div>

                    <div class="form-row">
                        <label class="form-label">Photo:</label>
                        <input type="file" id="report-photo" name="photo" class="form-input" accept=".jpg,.jpeg,.png" />
                    </div>

                    <div class="form-row">
                        <label class="form-label">Contact Info:</label>
                        <input type="text" id="contact-input" class="form-input"/>
                    </div>

                    <div class="form-row" id="description-row" style="display: none;">
                        <label class="form-label" for="description">Description:</label>
                        <input type="text" id="description" name="description" maxlength="10" class="form-input" />
                    </div>

                    <div class="form-row" id="code-row" style="display: none;">
                        <label class="form-label" for="management-code">Set Personal Code:</label>
                        <input type="password" id="management-code" name="management-code" class="form-input" placeholder="Set a 6-character code." maxlength="6"/>
                    </div>

                    <div class="form-row" id="confirm-code-row" style="display: none;">
                        <label class="form-label" for="confirm-management-code">Confirm your Code:</label>
                        <input type="password" id="confirm-management-code" name="confirm-management-code" class="form-input" placeholder="Re-enter your 6-character code to confirm." maxlength="6"/>
                    </div>
                    <div class="info-reminder" id="code-info-reminder" style="display: none;">
                        <i class="fas fa-info-circle"></i>
                        <p><em>Save this code— you'll need it to update or manage your report.</em></p>
                    </div>

                    <p id="code-mismatch-msg" style="display: none; color: red; font-size: 0.9rem; margin-left: 130px;">Codes do not match.</p>

                    <!-- FOUND UNIQUE INPUTS -->

                    <div class="form-row" id="surrendered-row" style="display: none;">
                        <label></label> <!-- empty label to align -->
                        <div class="form-field checkbox-row">
                                <input type="checkbox" id="is-surrendered" name="is-surrendered" />
                                <p class="surrender-note">
                                I already surrendered this item to the PUP Guardhouse.
                                </p>
                        </div>
                    </div>

                    <div class="form-row" id="found-code-row" style="display: none;">
                        <label class="form-label" for="found-code">Set Personal Code</label>
                        <input type="password" id="found-code" placeholder="Set a 6-character code." maxlength="6" class="form-input" />
                    </div>

                    <div class="form-row" id="found-confirm-code-row" style="display: none;">
                        <label class="form-label" for="found-confirm-code">Confirm your Code</label>
                        <input type="password" id="found-confirm-code" placeholder="Re-enter your 6-character code to confirm." maxlength="6" class="form-input"/>
                    </div>

                    <div class="form-row" id="found-code-note" style="display: none;">
                        <label></label>
                        <div class="info-note">
                            <i class="fas fa-info-circle"></i>
                            <p>Save this code — you'll need it to update or manage your report.</p>
                        </div>
                    </div>

                    <div id="form-content-placeholder" class="form-placeholder"></div>

                    <div class="form-row submit-container">
                        <button id="submit-report" class="submit-btn">Submit</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Confirmation Modal -->
        <div class="modal" id="confirmation-modal" style="display: none;">
            <div class="modal-content confirmation-modal-content">
                <img src="/web/assets/img/CONFIRMATION.png" alt="Confirmation" class="confirmation-image" />
                <h1 id="confirmation-message" class="confirmation-heading"></h1>
                <p id="confirmation-details" class="confirmation-details"></p>
                <button id="confirm-ok-btn" class="confirm-ok-btn">Okay</button>
            </div>
        </div>

      <!-- Reports will go here -->
      <div id="reports-container" class="reports-container"></div>

    </main>
  </div>

  <script type="module" src="/web/assets/js/lost-found.js"></script>
</body>
</html>
